#: import FadeTransition kivy.uix.screenmanager.FadeTransition

ScreenManagement:
	transition: FadeTransition()
	MainScreen:
	OptionsScreen:
	DrawScreen:
	
<MainScreen>:
	name: "main"
	GridLayout:
		rows: 3
		cols: 3
		Button:
			on_release: app.root.current = "draw"
			text: "Draw"
			font_size: 50
			size_hint: 0.15,0.1
		Button:
			on_release: app.root.current = "options"
			text: "Options"
			font_size: 50
			size_hint: 0.15,0.1
		Button:
			on_release: root.exit_app()
			text: "Exit"
			font_size: 50
			size_hint: 0.15,0.1

<OptionsScreen>:
	name: "options"
	GridLayout:
		cols: 2
		rows: 10
		Button:
			color: 0,1,0,1
			background_color: 0.5,0.5,0.5,0.5
			font_size: 20
			on_press: root.save_and_apply_options()
			on_press: app.root.current = "main"
			text: "Apply & Back"
			size_hint: 0.2,0.1
		Button:
			color: 0,1,0,1
			background_color: 0.5,0.5,0.5,0.5
			font_size: 20
			on_press: root.on_release_clear_options()
			text: "Clear"
			size_hint: 0.2,0.1
		Label:
			text: "Window Width"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: screen_resolution_width_option
			input_filter: 'float'
			font_size: 20
			hint_text: "Window Width"
			text: "800"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Window Height"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: screen_resolution_height_option
			input_filter: 'float'
			font_size: 20
			hint_text: "Window Height"
			text: "600"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Save/Load Filename Prefix"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: save_load_prefix_option
			font_size: 20
			hint_text: "Save/Load Filename Prefix (default=touch_data)"
			text: "touch_data"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Hover-draw Tickrate (ticks/msec)"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: hoverdraw_tickrate_option
			input_filter: 'int'
			font_size: 20
			hint_text: "Hover-draw Tickrate (ticks/msec; default=1)"
			text: "1"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Drawing Guidelines Tickrate (ticks/sec)"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: guidelines_tickrate_option
			input_filter: 'int'
			font_size: 20
			hint_text: "Drawing Guidelines Tickrate (ticks/sec; default=1)"
			text: "1"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Hover Draw Keybind"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: hover_key_option
			font_size: 20
			hint_text: "Hover Draw Keybind (default=h)"
			text: "h"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Clear Keybind"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: clear_key_option
			font_size: 20
			hint_text: "Clear Keybind (default=c)"
			text: "c"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Save Keybind"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: save_key_option
			font_size: 20
			hint_text: "Save Keybind (default=s)"
			text: "s"
			write_tab: True
			size_hint: 0.2,0.1
		Label:
			text: "Load Keybind"
			font_size: 20
			size_hint: 0.2,0.1
		TextInput
			id: load_key_option
			font_size: 20
			hint_text: "Load Keybind (default=d)"
			text: "d"
			write_tab: True
			size_hint: 0.2,0.1
			
<DrawScreen>:
	name: "draw"
	BoxLayout:
		Painter
			id: painter
			size_hint: 0.85,1
			pos_hint: {"right":1, "bottom":1}
		BoxLayout:
			Button:
				color: 0,1,0,1
				background_color: 0.5,0.5,0.5,0.5
				font_size: 20
				on_press: app.root.current = "main"
				text: "Back"
				size_hint: 0.2,0.1
				pos_hint: {"right":1, "top":1}
			Button:
				color: 0,1,0,1
				background_color: 0.5,0.5,0.5,0.5
				font_size: 20
				on_press: root.display_hover_draw()
				text: "Display"
				size_hint: 0.2,0.1
				pos_hint: {"right":1, "top":1}
			Button:
				color: 0,1,0,1
				background_color: 0.5,0.5,0.5,0.5
				font_size: 20
				on_press: root.save_csv()
				text: "Save"
				size_hint: 0.2,0.1
				pos_hint: {"right":1, "top":1}
			Button:
				color: 0,1,0,1
				background_color: 0.5,0.5,0.5,0.5
				font_size: 20
				on_press: root.load_csv()
				text: "Load"
				size_hint: 0.2,0.1
				pos_hint: {"right":1, "top":1}
			Button:
				color: 0,1,0,1
				background_color: 0.5,0.5,0.5,0.5
				font_size: 20
				on_press: root.on_release_clear()
				text: "Clear"
				size_hint: 0.2,0.1
				pos_hint: {"right":1, "top":1}